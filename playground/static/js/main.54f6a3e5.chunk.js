(this.webpackJsonpplayground=this.webpackJsonpplayground||[]).push([[2],{19:function(e,t,n){e.exports=n(55)},24:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var o=n(4),i=n(5),a=n(6),r=n(7),l=n(0),s=n.n(l),c=n(15),u=n.n(c),p=(n(24),n(8)),f=n(12),d=n(16);function h(e){var t=e.backgroundColor;return s.a.createElement("div",{className:"verticallyCenter horizontallyCenter fillHeight",style:{backgroundColor:t}},s.a.createElement(d.BeatLoader,{color:"#fff",loading:!0,size:25}))}var g=function(e){Object(r.a)(l,e);var t=Object(a.a)(l);function l(e){var i;Object(o.a)(this,l),(i=t.call(this,e)).editor=void 0,i.lastScrollTop=0,i.state={editorComponent:void 0},i.editorDidMount=i.editorDidMount.bind(Object(p.a)(i));var a=Promise.all([n.e(0),n.e(7)]).then(n.t.bind(null,294,7));return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,354)).then((function(e){e.languages.typescript.typescriptDefaults.setCompilerOptions({noLib:!0,target:e.languages.typescript.ScriptTarget.ESNext,allowNonTsExtensions:!0}),e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSyntaxValidation:!0,noSemanticValidation:!0}),e.editor.defineTheme("dprint-theme",{base:"vs-dark",inherit:!0,rules:[],colors:{"editorRuler.foreground":"#283430"}}),a.then((function(e){i.setState({editorComponent:e.default})})).catch((function(e){console.log(e),i.setState({editorComponent:!1})}))})).catch((function(e){console.log(e),i.setState({editorComponent:!1})})),i}return Object(i.a)(l,[{key:"render",value:function(){return this.updateScrollTop(),s.a.createElement("div",{id:"codeEditor"},this.getEditor())}},{key:"getEditor",value:function(){var e=this;return null==this.state.editorComponent?s.a.createElement(h,{backgroundColor:"#1e1e1e"}):!1===this.state.editorComponent?s.a.createElement("div",{className:"errorMessage"},"Error loading code editor. Please refresh the page to try again."):s.a.createElement(this.state.editorComponent,{width:"100%",height:"100%",value:this.props.text,theme:"dprint-theme",language:"typescript",onChange:function(t){return e.props.onChange&&e.props.onChange(t)},editorDidMount:this.editorDidMount,options:{automaticLayout:!0,renderWhitespace:"all",readOnly:this.props.readonly||!1,minimap:{enabled:!1},quickSuggestions:!1,rulers:[this.props.lineWidth]}})}},{key:"editorDidMount",value:function(e){var t=this;this.editor=e,this.editor.onDidChangeModelContent((function(){t.props.readonly&&t.editor.setPosition({column:1,lineNumber:1})})),this.editor.onDidScrollChange((function(e){e.scrollTopChanged&&t.props.onScrollTopChange&&t.props.onScrollTopChange(e.scrollTop)}))}},{key:"updateScrollTop",value:function(){var e=this;null!=this.editor&&this.lastScrollTop!==this.props.scrollTop&&setTimeout((function(){e.editor.setScrollTop(e.props.scrollTop),e.lastScrollTop=e.props.scrollTop}),0)}}]),l}(s.a.Component),m=n(18),v=n(10),C=(n(52),["always","prefer","asi"]),b=["alwaysDouble","alwaysSingle","preferDouble","preferSingle"],y=["maintain","whenNotSingleLine","always","preferNone"],S=["maintain","sameLine","nextLine","nextLineIfHanging"],T=["maintain","sameLine","nextLine"],E=["maintain","sameLine","nextLine"],x=["maintain","sameLine","nextLine"],w=["never","always","onlyMultiLine"],O=["force","maintain","preferNone"],k=["newline","blankline","maintain"],j=function(e){Object(r.a)(n,e);var t=Object(a.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{id:"configuration"},s.a.createElement(P,{title:"Line width"},this.getNumberConfig("lineWidth")),s.a.createElement(P,{title:"Indent width"},this.getNumberConfig("indentWidth")),s.a.createElement(P,{title:"Use tabs"},this.getBooleanConfig("useTabs")),s.a.createElement(P,{title:"Semicolons"},this.getSelectForConfig("semiColons",C)),s.a.createElement(P,{title:"Quote style"},this.getSelectForConfig("quoteStyle",b)),s.a.createElement(P,{title:"Use braces"},this.getSelectForConfig("useBraces",y)),s.a.createElement(P,{title:"Brace position"},this.getSelectForConfig("bracePosition",S)),s.a.createElement(P,{title:"Single body position"},this.getSelectForConfig("singleBodyPosition",T)),s.a.createElement(P,{title:"Operator position"},this.getSelectForConfig("operatorPosition",x)),s.a.createElement(P,{title:"Next control flow position"},this.getSelectForConfig("nextControlFlowPosition",E)),s.a.createElement(P,{title:"Trailing commas"},this.getSelectForConfig("trailingCommas",w)),s.a.createElement(P,{title:"Prefer hanging"},this.getBooleanConfig("preferHanging")),s.a.createElement(P,{title:"Prefer single line"},this.getBooleanConfig("preferSingleLine")),s.a.createElement(P,{title:"Arrow Function - Use parentheses"},this.getSelectForConfig("arrowFunction.useParentheses",O)),s.a.createElement(P,{title:"Enum member spacing"},this.getSelectForConfig("enumDeclaration.memberSpacing",k)))}},{key:"getBooleanConfig",value:function(e){var t=this,n=this.props.config;return s.a.createElement("input",{type:"checkbox",checked:n[e],onChange:function(){return t.updateConfig(Object(v.a)({},e,!n[e]))}})}},{key:"getSelectForConfig",value:function(e,t){var n=this,o=this.props.config;return s.a.createElement("select",{value:o[e],onChange:function(t){return n.updateConfig(Object(v.a)({},e,t.target.value))}},t.map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)})))}},{key:"getNumberConfig",value:function(e){var t=this,n=this.props.config;return s.a.createElement("input",{type:"number",inputMode:"numeric",value:n[e],onChange:function(n){var o=Math.max(0,Math.round(n.target.valueAsNumber));t.updateConfig(Object(v.a)({},e,o))}})}},{key:"updateConfig",value:function(e){this.props.onUpdateConfig(Object(m.a)({},this.props.config,{},e))}}]),n}(s.a.Component),P=function(e){Object(r.a)(n,e);var t=Object(a.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"configurationItem"},s.a.createElement("label",null,this.props.title,":",this.props.children))}}]),n}(s.a.Component);function F(e){return s.a.createElement("a",{id:e.id,href:e.url,rel:"noopener noreferrer"},e.text)}var U=n(11),N=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"getUrlInfo",value:function(){var e=document.location.hash||"";return{text:function(){var t=/code\/([^/]+)/.exec(e);if(null==t||2!==t.length)return"";try{return L(t[1])}catch(n){return console.error(n),""}}(),config:function(){var t=/config\/([^/]+)/.exec(e);if(null==t||2!==t.length)return{lineWidth:80};try{return JSON.parse(L(t[1]))}catch(n){return console.error(n),{lineWidth:80}}}()}}},{key:"updateUrl",value:function(e){var t=e.text,n=e.config;window.history.replaceState(void 0,"","#code/".concat(Object(U.compressToEncodedURIComponent)(t),"/config/").concat(Object(U.compressToEncodedURIComponent)(JSON.stringify(n))))}}]),e}();function L(e){return Object(U.decompressFromEncodedURIComponent)(e.trim())||""}n(53),n(54);var W=new N,D=function(e){Object(r.a)(n,e);var t=Object(a.a)(n);function n(e){var i;Object(o.a)(this,n),(i=t.call(this,e)).formatText=void 0,i.resolveConfig=void 0,i.lastUpdateTimeout=void 0,i.formatText=e.formatText,i.resolveConfig=e.resolveConfig;var a=W.getUrlInfo(),r=a.text,l=a.config,s=i.resolveConfig(l),c={lineWidth:s.lineWidth,indentWidth:s.indentWidth,useTabs:s.useTabs,semiColons:s.semiColons,quoteStyle:s.quoteStyle,trailingCommas:s["tupleType.trailingCommas"],useBraces:s["ifStatement.useBraces"],bracePosition:s["arrowFunction.bracePosition"],singleBodyPosition:s["ifStatement.singleBodyPosition"],nextControlFlowPosition:s["ifStatement.nextControlFlowPosition"],operatorPosition:s["binaryExpression.operatorPosition"],preferHanging:s["arrayExpression.preferHanging"],preferSingleLine:s["parameters.preferSingleLine"],"enumDeclaration.memberSpacing":s["enumDeclaration.memberSpacing"],"arrowFunction.useParentheses":s["arrowFunction.useParentheses"]};return i.state={text:r,formattedText:i.formatText(r,c),scrollTop:0,config:c},i.onConfigUpdate=i.onConfigUpdate.bind(Object(p.a)(i)),i.onTextChange=i.onTextChange.bind(Object(p.a)(i)),i.onScrollTopChange=i.onScrollTopChange.bind(Object(p.a)(i)),i}return Object(i.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(f.a,{split:"horizontal",defaultSize:50,allowResize:!1},s.a.createElement("header",{className:"appHeader"},s.a.createElement("h1",{id:"title"},"dprint - Playground"),s.a.createElement("div",{id:"headerRight"},s.a.createElement("a",{href:"/"},"Overview"),s.a.createElement("a",{href:"/playground"},"Playground"),s.a.createElement(F,{url:"https://github.com/dprint/dprint",text:"View on GitHub"}))),s.a.createElement(f.a,{split:"vertical",minSize:50,defaultSize:200,allowResize:!1},s.a.createElement(j,{config:this.state.config,onUpdateConfig:this.onConfigUpdate}),s.a.createElement(f.a,{split:"vertical",minSize:50,defaultSize:"50%",allowResize:!1,pane1Style:{overflowX:"hidden",overflowY:"hidden"},pane2Style:{overflowX:"hidden",overflowY:"hidden"}},s.a.createElement(g,{onChange:this.onTextChange,text:this.state.text,lineWidth:this.state.config.lineWidth||80,onScrollTopChange:this.onScrollTopChange,scrollTop:this.state.scrollTop}),s.a.createElement(g,{text:this.state.formattedText,readonly:!0,lineWidth:this.state.config.lineWidth||80,onScrollTopChange:this.onScrollTopChange,scrollTop:this.state.scrollTop})))))}},{key:"onConfigUpdate",value:function(e){this.setState({config:e,formattedText:this.getFormattedText(e)}),this.updateUrl({text:this.state.text,config:e})}},{key:"onTextChange",value:function(e){var t=this;null!=this.lastUpdateTimeout&&clearTimeout(this.lastUpdateTimeout),this.setState({text:e}),this.lastUpdateTimeout=setTimeout((function(){t.setState({formattedText:t.getFormattedText()}),t.updateUrl({text:e,config:t.state.config})}),250)}},{key:"updateUrl",value:function(e){W.updateUrl(e)}},{key:"getFormattedText",value:function(e){return this.formatText(this.state.text,e||this.state.config)}},{key:"onScrollTopChange",value:function(e){this.setState({scrollTop:e})}}]),n}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=function(e){Object(r.a)(l,e);var t=Object(a.a)(l);function l(e){var i;return Object(o.a)(this,l),(i=t.call(this,e)).state={formatText:void 0,resolveConfig:void 0},n.e(6).then(n.bind(null,96)).then((function(e){i.setState({formatText:function(t,n){try{return e.format_text(t,M(n))}catch(o){return"Panic formatting file. Check console for details and report this bug."}},resolveConfig:function(t){return JSON.parse(e.resolve_config(M(t)))}})})).catch(console.error),i}return Object(i.a)(l,[{key:"render",value:function(){return null==this.state.formatText||null==this.state.resolveConfig?s.a.createElement(h,null):s.a.createElement(D,{formatText:this.state.formatText,resolveConfig:this.state.resolveConfig})}}]),l}(s.a.Component);function M(e){for(var t=new Map,n=0,o=Object.keys(e);n<o.length;n++){var i=o[n],a=e[i];if(null!=a){if("string"!==typeof a&&"boolean"!==typeof a&&"number"!==typeof a)throw new Error("Not supported value type '".concat(typeof a,"' for key '").concat(i,"'."));t.set(i,a.toString())}}return t}u.a.render(s.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,3,5]]]);
//# sourceMappingURL=main.54f6a3e5.chunk.js.map